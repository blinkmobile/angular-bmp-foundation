define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!partial.html",[],function(){return'<div id="bmpFoundationConfirm" class="reveal-modal" data-reveal="" x-ng-controller="bmpFoundationConfirmCtrl">\n  <h2 x-ng-if="title">{{title}}</h2>\n  <p class="lead" x-ng-if="lead">{{lead}}</p>\n  <p x-ng-if="body">{{body}}</p>\n  <div class="row">\n    <div class="small-12 columns">\n      <button class="right" x-ng-click="confirm()">Continue</button>\n      <button class="right secondary" x-bmp-close-reveal="">Cancel</button>\n    </div>\n  </div>\n\n  <a class="close-reveal-modal">&#215;</a>\n</div>\n'}),function(e,t){typeof define=="function"&&define.amd?define("bmpFoundation",["jquery","lodash","angular","text!partial.html","foundation"],t):t(e.$,e._,e.angular)}(this,function(e,t,n,r){var i;return i=n.module("bmp.foundation",[]),i.directive("bmpCloseReveal",[function(){return{replace:!1,link:function(e,t){t.on("click",function(){e.closeRevealModal()})}}}]),i.directive("bmpOpenReveal",[function(){return{replace:!1,link:function(e,t,n){t.on("click",function(){return e.openRevealModal(n.bmpCloseReveal),!1})}}}]),i.directive("reveal",["$rootScope",function(t){return e(document).on("closed",".reveal-modal[data-reveal]",function(){var n;n=e(this),t.$broadcast("bmp.foundation.revealClosed",n.attr("id"),n)}),{replace:!1,scope:!0,link:function(t,n){var r;r=e(n[0]).closest(".reveal-modal[id]"),t.closeRevealModal=function(){r.foundation("reveal","close")}}}}]),i.directive("bmpFoundation",["$rootScope","$timeout","$compile",function(n,i,s){return r&&e(document).ready(function(){var t;t=e(r),t.appendTo(document.body),s(t)(n)}),{replace:!1,link:function(r){var s,o;s={},o=function(){i(function(){n.$evalAsync(function(){e(document.body).foundation()})},0)},r.openRevealModal=function(t){var n;n=e("#"+t),n.foundation("reveal","open")},r.confirmWithReveal=function(e,t){e.asyncId=String(Math.random()),s[e.asyncId]=t,n.$broadcast("bmp.foundation.confirm",e),r.openRevealModal("bmpFoundationConfirm")},r.$on("bmp.foundation.confirmed",function(e,t,n){s[t](n),delete s[t]}),r.$watch(t.throttle(o,1e3,{leading:!1}))}}}]),i.controller("bmpFoundationConfirmCtrl",["$scope","$rootScope",function(e,t){e.title="",e.lead="",e.body="",e.asyncId=null,e.result=!1,e.$on("bmp.foundation.confirm",function(t,n){e.title=n.title,e.lead=n.lead,e.body=n.body,e.asyncId=n.asyncId,e.result=!1}),e.confirm=function(){e.result=!0,e.closeRevealModal()},e.$on("bmp.foundation.revealClosed",function(n,r){r==="bmpFoundationConfirm"&&t.$broadcast("bmp.foundation.confirmed",e.asyncId,e.result)})}]),i});