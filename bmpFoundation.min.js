define("text!bmpFoundation.html",[],function(){return'<div>\n  <div id="bmpFoundationConfirm" class="reveal-modal" data-reveal="" x-ng-controller="bmpFoundationConfirmCtrl">\n    <h2 x-ng-if="title">{{title}}</h2>\n    <p class="lead" x-ng-if="lead">{{lead}}</p>\n    <p x-ng-if="body">{{body}}</p>\n    <div class="row">\n      <div class="small-12 columns">\n        <button class="right" x-ng-click="confirm()">Continue</button>\n        <button class="right secondary" x-bmp-close-reveal="">Cancel</button>\n      </div>\n    </div>\n\n    <a class="close-reveal-modal">&#215;</a>\n  </div>\n\n  <div id="bmpFoundationAlert" class="reveal-modal" data-reveal="" x-ng-controller="bmpFoundationAlertCtrl">\n    <h2 x-ng-if="title">{{title}}</h2>\n    <p class="lead" x-ng-if="lead">{{lead}}</p>\n    <p x-ng-if="body">{{body}}</p>\n    <div class="row">\n      <div class="small-12 columns">\n        <button class="right" x-bmp-close-reveal="">Close</button>\n      </div>\n    </div>\n\n    <a class="close-reveal-modal">&#215;</a>\n  </div>\n\n</div>\n'}),function(e,t){typeof define=="function"&&define.amd?define("bmpFoundation",["jquery","lodash","angular","text!bmpFoundation.html","foundation"],t):t(e.$,e._,e.angular)}(this,function(e,t,n,r){var i,s;return s=function(t){var n,r,i;return n=t.offset(),n.top<0||n.left<0?!1:(r=t.outerHeight(),n.top+r>e(window).innerHeight()?!1:(i=t.outerWidth(),n.left+i>e(window).innerWidth()?!1:!0))},i=n.module("bmp.foundation",[]),i.directive("bmpCloseReveal",[function(){return{replace:!1,link:function(e,t){t.on("click",function(){e.closeRevealModal()})}}}]),i.directive("bmpOpenReveal",[function(){return{replace:!1,link:function(e,t,n){t.on("click",function(){return e.openRevealModal(n.bmpCloseReveal),!1})}}}]),i.directive("reveal",["$rootScope",function(t){return e(document).on("closed",".reveal-modal[data-reveal]",function(){var n;n=e(this),t.$broadcast("bmp.foundation.revealClosed",n.attr("id"),n)}),e(document).on("opened",".reveal-modal[data-reveal]",function(){var n;n=e(this),t.$broadcast("bmp.foundation.revealOpened",n.attr("id"),n),s(n)||(n.css("top","0px"),setTimeout(function(){n.css("top","100px")},50))}),{replace:!1,scope:!0,link:function(t,n){var r;r=e(n[0]).closest(".reveal-modal[id]"),t.closeRevealModal=function(){r.foundation("reveal","close")}}}}]),i.directive("bmpFoundation",["$rootScope","$timeout","$compile",function(n,i,s){return r&&e(document).ready(function(){var t;t=e(r),t.appendTo(document.body),s(t)(n)}),{replace:!1,link:function(r){var s,o,u,a,f;s={},o=t.throttle(function(){i(function(){n.$evalAsync(function(){e(window).off("scroll"),e("body").off("keyup.fndtn.reveal"),e(document.body).foundation()})},0)},1e3,{leading:!0,trailing:!0}),r.openRevealModal=function(t){var n;n=e("#"+t),n.foundation("reveal","open")},r.alertWithReveal=function(e,i){e.asyncId=String(Math.random()),t.isFunction(i)&&(s[e.asyncId]=i),n.$broadcast("bmp.foundation.alert",e),r.openRevealModal("bmpFoundationAlert")},r.confirmWithReveal=function(e,i){e.asyncId=String(Math.random()),t.isFunction(i)&&(s[e.asyncId]=i),n.$broadcast("bmp.foundation.confirm",e),r.openRevealModal("bmpFoundationConfirm")},r.$on("bmp.foundation.alerted",function(e,n){t.isFunction(s[n])&&s[n](),delete s[n]}),r.$on("bmp.foundation.confirmed",function(e,n,r){t.isFunction(s[n])&&s[n](r),delete s[n]}),window.MutationObserver?(u=new window.MutationObserver(function(){o()}),a=function(){u.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["data-interchange","data-topbar","data-orbit","data-clearing","data-abide","data-alert","data-tooltip","data-joyride","data-accordion","data-tab","data-dropdown","data-dropdown-content","data-magellan-expedition","data-magellan-destination","data-magellan-arrival","data-reveal-id"]}),o()},f=function(){u.disconnect()}):a=function(){f=r.$watch(o),o()},a(),e(document).on("open close","[data-reveal]",function(){f()}),e(document).on("opened closed","[data-reveal]",function(){a()})}}}]),i.controller("bmpFoundationConfirmCtrl",["$scope","$rootScope",function(e,t){e.title="",e.lead="",e.body="",e.asyncId=null,e.result=!1,e.$on("bmp.foundation.confirm",function(t,n){e.title=n.title,e.lead=n.lead,e.body=n.body,e.asyncId=n.asyncId,e.result=!1}),e.confirm=function(){e.result=!0,e.closeRevealModal()},e.$on("bmp.foundation.revealClosed",function(n,r){r==="bmpFoundationConfirm"&&t.$broadcast("bmp.foundation.confirmed",e.asyncId,e.result)})}]),i.controller("bmpFoundationAlertCtrl",["$scope","$rootScope",function(e,t){e.title="",e.lead="",e.body="",e.asyncId=null,e.$on("bmp.foundation.alert",function(t,n){e.title=n.title,e.lead=n.lead,e.body=n.body,e.asyncId=n.asyncId}),e.$on("bmp.foundation.revealClosed",function(n,r){r==="bmpFoundationAlert"&&t.$broadcast("bmp.foundation.alerted",e.asyncId)})}]),i});